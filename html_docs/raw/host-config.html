<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Host Configuration | Elasticsearch-PHP | Elastic</title>
<meta class="elastic" name="content" content="Host Configuration | Elasticsearch-PHP">

<link rel="home" href="index.html" title="Elasticsearch-PHP"/>
<link rel="up" href="configuration.html" title="Configuration"/>
<link rel="prev" href="php_json_objects.html" title="Dealing with JSON arrays and objects in PHP"/>
<link rel="next" href="set-retries.html" title="Set retries"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch-PHP</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuration.html">Configuration</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="php_json_objects.html">« Dealing with JSON arrays and objects in PHP</a>
</span>
<span class="next">
<a href="set-retries.html">Set retries »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="host-config"></a>Host Configuration<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-php/edit/master/docs/host-config.asciidoc">edit</a></h2>
</div></div></div>
<p>The client offers an options to configure hosts.</p>
<p>The most common configuration is telling the client about your cluster: the
number of nodes, their addresses, and ports. If no hosts are specified, the
client attempts to connect to <code class="literal">localhost:9200</code>.</p>
<p>This behavior can be changed by using the <code class="literal">setHosts()</code> method on
<code class="literal">ClientBuilder</code>. The method accepts an array of values, each entry corresponding
to one node in your cluster. The format of the host can vary, depending on your
needs (ip vs hostname, port, ssl, etc).</p>
<div class="pre_wrapper lang-php">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-php">$hosts = [
    '192.168.1.1:9200',         // IP + Port
    '192.168.1.2',              // Just IP
    'mydomain.server.com:9201', // Domain + Port
    'mydomain2.server.com',     // Just Domain
    'https://localhost',        // SSL to localhost
    'https://192.168.1.3:9200'  // SSL to IP + Port
];
$client = ClientBuilder::create()           // Instantiate a new ClientBuilder
                    -&gt;setHosts($hosts)      // Set the hosts
                    -&gt;build();              // Build the client object</pre>
</div>
<p>Notice that the <code class="literal">ClientBuilder</code> object allows chaining method calls for brevity.
It is also possible to call the methods individually:</p>
<div class="pre_wrapper lang-php">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-php">$hosts = [
    '192.168.1.1:9200',         // IP + Port
    '192.168.1.2',              // Just IP
    'mydomain.server.com:9201', // Domain + Port
    'mydomain2.server.com',     // Just Domain
    'https://localhost',        // SSL to localhost
    'https://192.168.1.3:9200'  // SSL to IP + Port
];
$clientBuilder = ClientBuilder::create();   // Instantiate a new ClientBuilder
$clientBuilder-&gt;setHosts($hosts);           // Set the hosts
$client = $clientBuilder-&gt;build();          // Build the client object</pre>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="php_json_objects.html">« Dealing with JSON arrays and objects in PHP</a>
</span>
<span class="next">
<a href="set-retries.html">Set retries »</a>
</span>
</div>
</div>
</body>
</html>
